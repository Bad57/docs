---
sidebar_position: 0
---

# ðŸ”« Weapon

import { ReferenceLink } from '/docs/components/_reference-link.mdx';
import * as AuthorityType from '/docs/components/_authority-components.mdx';
import * as BasicType from '/docs/components/_common-types.mdx';
import * as StructType from '/docs/components/_struct-types.mdx';

![](/img/docs/weapon.jpg)

Weapons are fully customizable, all pieces of the weapon can be changed with immense possibility of creation

:::info
Please take a look at our Defaultâ€™s Weapon package with all built-in Weapons already properly configured and ready to use: [https://github.com/nanos-world/nanos-world-weapons](https://github.com/nanos-world/nanos-world-weapons).
:::

## Usage

```lua title="Server/Index.lua"
-- Spawning an AK47
local new_weapon = Weapon(Vector(-900, 185, 215), Rotator(0, 90, 90), "nanos-world::SK_AK47", CollisionType.Normal, true)

-- Configures Weapon Base Settings
new_weapon:SetAmmoSettings(30, 1000)
new_weapon:SetDamage(30)
new_weapon:SetSpread(30)
new_weapon:SetBulletSettings(1, 20000, 20000, Color(100, 58, 0))
new_weapon:SetCadence(0.1)

-- Configures how the Character Grabs and Aims the Weapon
new_weapon:SetHandlingMode(HandlingMode.DoubleHandedWeapon)
new_weapon:SetSightTransform(Vector(0, 0, -14.85), Rotator(-1, 0, 0))
new_weapon:SetLeftHandTransform(Vector(26, 0, 8.5), Rotator(0, 60, 90))
new_weapon:SetRightHandOffset(Vector(-10, 0, 0))

-- Configures Weapon Particles
new_weapon:SetParticlesBulletTrail("nanos-world::P_Bullet_Trail")
new_weapon:SetParticlesBarrel("nanos-world::P_Weapon_BarrelSmoke")
new_weapon:SetParticlesShells("nanos-world::P_Weapon_Shells_762x39")

-- Configures Weapon Sounds
new_weapon:SetSoundDry("nanos-world::A_Rifle_Dry")
new_weapon:SetSoundLoad("nanos-world::A_Rifle_Load")
new_weapon:SetSoundUnload("nanos-world::A_Rifle_Unload")
new_weapon:SetSoundZooming("nanos-world::A_AimZoom")
new_weapon:SetSoundAim("nanos-world::A_Rattle")
new_weapon:SetSoundFire("nanos-world::A_AK47_Shot")

-- Configures Weapon Animations
new_weapon:SetAnimationCharacterFire("nanos-world::AM_Mannequin_Sight_Fire")
new_weapon:SetAnimationReload("nanos-world::AM_Mannequin_Reload_Rifle")

-- Configures the Mesh to drop when reloading
new_weapon:SetMagazineMesh("nanos-world::SM_AK47_Mag_Empty")

-- Configures the Crosshair Type
new_weapon:SetCrosshairSetting(CrosshairType.Regular)
```


Using our Default Weapons Package [https://github.com/nanos-world/nanos-world-weapons](https://github.com/nanos-world/nanos-world-weapons) \(already built-in included\) for spawning an AK47:


```lua title="Server/Index.lua"
-- Includes the nanos world Default Weapons Package in your Package (you don't need to download it, just include it!)
Package.RequirePackage("nanos-world-weapons")

-- Spawning the AK47
local my_ak47 = NanosWorldWeapons.AK47(Vector(1035, 154, 300), Rotator())

-- Giving the Weapon to a Character
my_character:PickUp(my_ak47)
```

<ReferenceLink href="/docs/getting-started/tutorials-and-examples/prop-shooter">Prop Shooter</ReferenceLink>
<ReferenceLink href="/docs/getting-started/tutorials-and-examples/weapon-scope">Weapon Scope</ReferenceLink>
<ReferenceLink href="/docs/getting-started/tutorials-and-examples/weapon-flashlight">Weapon Flashlight</ReferenceLink>

## Constructor Parameters

| **Type** | **Name** | **Default** |
| :--- | :--- | :--- |
| <StructType.Vector /> | **`location`** | `Vector(0, 0, 0)` |
| <StructType.Rotator /> | **`rotation`** | `Rotator(0, 0, 0)` |
| <BasicType.String /> | **`model_name`** | `Skeletal Mesh Path` |
| [CollisionType](/docs/scripting-reference/glossary/enums#collisiontype) | **`collision_type`** | `CollisionType.Normal` |
| <BasicType.Boolean /> | **`gravity_enabled`** | `true` |

## Available [Crosshairs Types](/docs/scripting-reference/glossary/enums#crosshairtype)

![All available Crosshairs](/img/docs/crosshairs.jpg)

## Functions

import BaseActorFunctions from '/docs/scripting-reference/classes/base-classes/_base-actor-functions.mdx';
import BasePickableFunctions from '/docs/scripting-reference/classes/base-classes/_base-pickable-functions.mdx';
import BasePaintableFunctions from '/docs/scripting-reference/classes/base-classes/_base-paintable-functions.mdx';

<details><summary>Inherited Actor Functions</summary><BaseActorFunctions /></details>
<details><summary>Inherited Pickable Functions</summary><BasePickableFunctions /></details>
<details><summary>Inherited Paintable Functions</summary><BasePaintableFunctions /></details>

|  | **Returns** | **Name** | **Description** |
| :--- | :--- | :--- | :--- |
| <AuthorityType.ServerOnly /> |  | [**`SetAmmoBag`**](weapon#setammobag) | Sets this Weaponâ€™s Ammo in the Bag |
| <AuthorityType.ServerOnly /> |  | [**`SetAmmoClip`**](weapon#setammoclip) | Sets this Weaponâ€™s Ammo in the Clip |
| <AuthorityType.ServerOnly /> |  | [**`SetAmmoSettings`**](weapon#setammosettings) | Auxiliary for setting and configuring ammo |
| <AuthorityType.ServerOnly /> |  | [**`SetAnimationCharacterFire`**](weapon#setanimationcharacterfire) | Animation played by the Character when Firing |
| <AuthorityType.ServerOnly /> |  | [**`SetAnimationReload`**](weapon#setanimationreload) | Animation played by the Character when Reloading |
| <AuthorityType.ServerOnly /> |  | [**`SetBulletColor`**](weapon#setbulletcolor) | Set the Bullet Color |
| <AuthorityType.ServerOnly /> |  | [**`SetBulletSettings`**](weapon#setbulletsettings) | Auxiliary for setting and configuring the Bullet |
| <AuthorityType.ServerOnly /> |  | [**`SetCadence`**](weapon#setcadence) | Speed of shots |
| <AuthorityType.ServerOnly /> |  | [**`SetClipCapacity`**](weapon#setclipcapacity) | Capacity of the Weaponâ€™s Clip |
| <AuthorityType.ServerOnly /> |  | [**`SetCrosshairSetting`**](weapon#setcrosshairsetting) | Sets the Crosshair Type |
| <AuthorityType.ServerOnly /> |  | [**`SetDamage`**](weapon#setdamage) | Base Weaponâ€™s Damage |
| <AuthorityType.ServerOnly /> |  | [**`SetHandlingMode`**](weapon#sethandlingmode) | Sets how the Character grabs this Weapon |
| <AuthorityType.ServerOnly /> |  | [**`SetLeftHandTransform`**](weapon#setlefthandtransform) | Left Hand Offset |
| <AuthorityType.ServerOnly /> |  | [**`SetMagazineMesh`**](weapon#setmagazinemesh) | The mesh used when the Character reloads the weapon. Will drop this Mesh as an animation effect. |
| <AuthorityType.ServerOnly /> |  | [**`SetParticlesBulletTrail`**](weapon#setparticlesbullettrail) | Particle of the Bullet flying |
| <AuthorityType.ServerOnly /> |  | [**`SetParticlesBarrel`**](weapon#setparticlesbarrel) | Particle of the Fire Blast in the muzzle |
| <AuthorityType.ServerOnly /> |  | [**`SetParticlesShells`**](weapon#setparticlesshells) | Particle of the empty bullet flying from the weapon when shooting |
| <AuthorityType.ServerOnly /> |  | [**`SetRightHandOffset`**](weapon#setrighthandoffset) | Offset of Right Hand. To position relative to the camera. |
| <AuthorityType.ServerOnly /> |  | [**`SetSightFOVMultiplier`**](weapon#setsightfovmultiplier) | The FOV multiplier when ADS |
| <AuthorityType.ServerOnly /> |  | [**`SetSightTransform`**](weapon#setsighttransform) | Offset applied to align playerâ€™s head to weaponâ€™s sight and rotation applied on the weapon when ADS |
| <AuthorityType.ServerOnly /> |  | [**`SetSoundDry`**](weapon#setsounddry) | Sound when weapon has not bullet and try to shoot |
| <AuthorityType.ServerOnly /> |  | [**`SetSoundLoad`**](weapon#setsoundload) | Sound when Loading a magazine |
| <AuthorityType.ServerOnly /> |  | [**`SetSoundUnload`**](weapon#setsoundunload) | Sound when Unloading a magazine |
| <AuthorityType.ServerOnly /> |  | [**`SetSoundZooming`**](weapon#setsoundzooming) | Sound when Zooming |
| <AuthorityType.ServerOnly /> |  | [**`SetSoundAim`**](weapon#setsoundaim) | Sound when Aiming |
| <AuthorityType.ServerOnly /> |  | [**`SetSoundFire`**](weapon#setsoundfire) | Sound when Shooting |
| <AuthorityType.ServerOnly /> |  | [**`SetSpread`**](weapon#setspread) | Base Weaponâ€™s Spread \(the higher the less precision - recommended value: 20\) |
| <AuthorityType.ServerOnly /> |  | [**`SetUsageSettings`**](weapon#setusagesettings) | Sets if the Weapon can hold to keep firing and if it needs to release to fire |
|  | <BasicType.Number /> | [**`GetAmmoBag`**](weapon#getammobag) | Gets this Weaponâ€™s Ammo Bag |
|  | <BasicType.Number /> | [**`GetAmmoClip`**](weapon#getammoclip) | Gets this Weaponâ€™s Ammo Clip |
|  | <StructType.Color /> | [**`GetBulletColor`**](weapon#getbulletcolor) |  |
|  | <BasicType.Number /> | [**`GetCadence`**](weapon#getcadence) |  |
|  | <BasicType.Number /> | [**`GetClipCapacity`**](weapon#getclipcapacity) |  |
|  | <BasicType.Number /> | [**`GetDamage`**](weapon#getdamage) |  |
|  | <StructType.Vector /> | [**`GetRightHandOffset`**](weapon#getrighthandoffset) |  |
|  | <BasicType.Number /> | [**`GetSightFOVMultiplier`**](weapon#getsightfovmultiplier) |  |
|  | <BasicType.Number /> | [**`GetSpread`**](weapon#getspread) |  |

## Events

import BaseActorEvents from '/docs/scripting-reference/classes/base-classes/_base-actor-events.mdx';

<details><summary>Inherited Actor Events</summary><BaseActorEvents /></details>

| **Name** | **Description** |
| :--- | :--- |
| [**`Fire`**](/docs/scripting-reference/classes/vehicle#fire) | When Weapon is fired |
| [**`Reload`**](/docs/scripting-reference/classes/vehicle#reload) | When Weapon is reloaded |

## Functions Detailed

### <AuthorityType.ServerOnly />`SetAmmoBag`

> Sets this Weapon's Ammo in the Bag

```lua
my_weapon:SetAmmoBag(new_ammo)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`new_ammo`** |  |  |

### <AuthorityType.ServerOnly />`SetAmmoClip`

> Sets this Weapon's Ammo in the Clip

```lua
my_weapon:SetAmmoClip(new_ammo)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`new_ammo`** |  |  |

### <AuthorityType.ServerOnly />`SetAmmoSettings`

> Aux for setting and configuring ammo

```lua
my_weapon:SetAmmoSettings(ammo_clip, ammo_bag, ammo_to_reload, clip_capacity)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`ammo_clip`** |  |  |
| <BasicType.Number /> | **`ammo_bag`** |  |  |
| <BasicType.Number /> | **`ammo_to_reload`** | `ammo_clip` | The amount of ammo which will be effectively reloaded in the clip when reloading |
| <BasicType.Number /> | **`clip_capacity`** | `ammo_clip` | How much ammo the clip can hold without needing to reload |

### <AuthorityType.ServerOnly />`SetAnimationCharacterFire`

> Animation played by the Character when Firing

```lua
my_weapon:SetAnimationCharacterFire(animation_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`animation_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetAnimationReload`

> Animation played by the Character when Reloading
>
> Currently this animation must be one of the default ones: `AM_Mannequin_Reload_Rifle`, `AM_Mannequin_Reload_Pistol` or `AM_Mannequin_Reload_Shotgun`, as they have internal triggers to finish the reload

```lua
my_weapon:SetAnimationReload(animation_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`animation_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetBulletColor`

> Set the Bullet Color
>
> Only has effect if using Bullet Trail particle `P_Bullet_Trail` or if you particle has the **Color** parameter

```lua
my_weapon:SetBulletColor(color)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| Color | **`color`** |  |  |

### <AuthorityType.ServerOnly />`SetBulletSettings`

> Aux for setting and configuring the Bullet

```lua
my_weapon:SetBulletSettings(bullet_count, bullet_max_distance, bullet_velocity, bullet_color)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`bullet_count`** |  | 1 for common weapons, &gt; 1 for shotguns |
| <BasicType.Number /> | **`bullet_max_distance`** |  |  |
| <BasicType.Number /> | **`bullet_velocity`** |  | Visuals only |
| Color | **`bullet_color`** |  |  |

### <AuthorityType.ServerOnly />`SetCadence`

> Speed of shots

```lua
my_weapon:SetCadence(cadence)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`cadence`** |  | 1 shot at each `cadence` second |

### <AuthorityType.ServerOnly />`SetClipCapacity`

> Capacity of the Weapon's Clip

```lua
my_weapon:SetClipCapacity(clip)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`clip`** |  |  |

### <AuthorityType.ServerOnly />`SetCrosshairSetting`

> Sets the Crosshair Type

```lua
my_weapon:SetCrosshairSetting(type)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| CrosshairType | **`type`** |  |  |

### <AuthorityType.ServerOnly />`SetDamage`

> Base Weapon's Damage
>
> This will be multiplied by multiplier factors when hitting specific bones

```lua
my_weapon:SetDamage(damage)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`damage`** |  |  |

### <AuthorityType.ServerOnly />`SetHandlingMode`

> Sets how the Character grabs this Weapon

```lua
my_weapon:SetHandlingMode(mode)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| HandlingMode | **`mode`** |  |  |

### <AuthorityType.ServerOnly />`SetLeftHandTransform`

> Left Hand Offset

```lua
my_weapon:SetLeftHandTransform(location, rotation)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| Vector | **`location`** |  |  |
| Rotator | **`rotation`** |  |  |

### <AuthorityType.ServerOnly />`SetMagazineMesh`

> The mesh used when the Character reloads the weapon. Will drop this Mesh as an animation effect.

```lua
my_weapon:SetMagazineMesh(static_mesh_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`static_mesh_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetParticlesBulletTrail`

> Particle of the Bullet flying

```lua
my_weapon:SetParticlesBulletTrail(particle_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`particle_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetParticlesBarrel`

> Particle of the Fire Blast in the muzzle

```lua
my_weapon:SetParticlesBarrel(particle_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`particle_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetParticlesShells`

> Particle of the empty bullet flying from the weapon when shooting

```lua
my_weapon:SetParticlesShells(particle_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`particle_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetRightHandOffset`

> Offset of Right Hand. To position relative to the camera.

```lua
my_weapon:SetRightHandOffset(offset)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| Vector | **`offset`** |  |  |

### <AuthorityType.ServerOnly />`SetSightFOVMultiplier`

> The FOV multiplier when ADS

```lua
my_weapon:SetSightFOVMultiplier(multiplier)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`multiplier`** |  |  |

### <AuthorityType.ServerOnly />`SetSightTransform`

> Offset applied to align player's head to weapon's sight and rotation applied on the weapon when ADS

```lua
my_weapon:SetSightTransform(location, rotation)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| Vector | **`location`** |  |  |
| Rotator | **`rotation`** |  |  |

### <AuthorityType.ServerOnly />`SetSoundDry`

> Sound when weapon has not bullet and try to shoot

```lua
my_weapon:SetSoundDry(sound_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`sound_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetSoundLoad`

> Sound when Loading a magazine

```lua
my_weapon:SetSoundLoad(sound_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`sound_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetSoundUnload`

> Sound when Unloading a magazine

```lua
my_weapon:SetSoundUnload(sound_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`sound_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetSoundZooming`

> Sound when Zooming

```lua
my_weapon:SetSoundZooming(sound_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`sound_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetSoundAim`

> Sound when Aiming

```lua
my_weapon:SetSoundAim(sound_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`sound_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetSoundFire`

> Sound when Shooting

```lua
my_weapon:SetSoundFire(sound_asset_path)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.String /> | **`sound_asset_path`** |  |  |

### <AuthorityType.ServerOnly />`SetSpread`

> Base Weapon's Spread \(the higher the less precision - recommended value: 20\)

```lua
my_weapon:SetSpread(damage)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Number /> | **`damage`** |  |  |

### <AuthorityType.ServerOnly />`SetUsageSettings`

> Sets if the Weapon can hold to keep firing and if it needs to release to fire

```lua
my_weapon:SetUsageSettings(can_hold_use, hold_release_use)
```

| Type | Parameter | Default Value | Description |
| :--- | :--- | :--- | :--- |
| <BasicType.Boolean /> | **`can_hold_use`** |  |  |
| <BasicType.Boolean /> | **`hold_release_use`** |  |  |

### `GetAmmoBag`

> Gets this Weapon's Ammo Bag
>
> Returns <BasicType.Number />

```lua
my_weapon:GetAmmoBag()
```

### `GetAmmoClip`

> Gets this Weapon's Ammo Clip
>
> Returns <BasicType.Number />

```lua
my_weapon:GetAmmoClip()
```

### `GetBulletColor`

> Returns [Color](/docs/scripting-reference/utility-classes/color)

```lua
my_weapon:GetBulletColor()
```

### `GetCadence`

> Returns <BasicType.Number />

```lua
my_weapon:GetCadence()
```

### `GetClipCapacity`

> Returns <BasicType.Number />

```lua
my_weapon:GetClipCapacity()
```

### `GetDamage`

> Returns <BasicType.Number />

```lua
my_weapon:GetDamage()
```

### `GetRightHandOffset`

> Returns <StructType.Vector />

```lua
my_weapon:GetRightHandOffset()
```

### `GetSightFOVMultiplier`

> Returns <BasicType.Number />

```lua
my_weapon:GetSightFOVMultiplier()
```

### `GetSpread`

> Returns <BasicType.Number />

```lua
my_weapon:GetSpread()
```

## Events Detailed

### `Fire`

> Triggered when Weapon fired

```lua
Weapon.Subscribe("Fire", function(self, shooter)

end)
```

| Type | Parameter | Description |
| :--- | :--- | :--- |
| [Weapon](weapon) | `self` |  |
| Character | `shooter` |  |

### `Reload`

> When a Weapon is reloaded, optionally by a Character

```lua
Weapon.Subscribe("Reload", function(self, character, ammo_to_reload)

end)
```

| Type | Parameter | Description |
| :--- | :--- | :--- |
| [Weapon](weapon) | `self` |  |
| Character | `character` |  |
| <BasicType.Number /> | **`ammo_to_reload`** |  |

